@model GetWayPro.Models.AddProduct
@using System.Text.Json


@{
    ViewData["Title"] = "AddProduct";
}
<body class="text-light" style="background: linear-gradient(135deg, #6a11cb 0%, #2575fc 100%);">

    <form asp-action="AddProduct" method="post" enctype="multipart/form-data">
        <div class="container rounded bg-white mt-5 mb-5 shadow p-4">
            <div class="row">

                <!-- Left Section: Product Form -->
                <div class="col-md-7 border-end">
                    <div class="p-3">
                        <div class="card-header bg-primary text-white text-center rounded">
                            <h4 class="mb-0">Add New Product</h4>
                        </div>

                        <!-- Product Name -->
                        <div class="form-group mt-4">
                            <label asp-for="Name" class="form-label">Product Name</label>
                            <input asp-for="Name" class="form-control" placeholder="Enter product name" required />
                        </div>

                        <!-- Description -->
                        <div class="form-group mt-3">
                            <label asp-for="Description" class="form-label">Description</label>
                            <textarea asp-for="Description" class="form-control" rows="4" placeholder="Enter product description" required></textarea>
                        </div>

                        <!-- Price -->
                        <div class="form-group mt-3">
                            <label asp-for="Price" class="form-label">Price ($)</label>
                            <input asp-for="Price" class="form-control" placeholder="Enter price" type="number" step="0.01" required />
                        </div>

                        <!-- Category -->
                        <div class="form-group mt-3">
                            <label asp-for="Category" class="form-label">Category</label>
                            <select asp-for="Category" class="form-select">
                                <option value="">-- Select Category --</option>
                                <option>Electronics</option>
                                <option>Fashion</option>
                                <option>Fruit</option>
                                <option>Books</option>
                            </select>
                        </div>

                        <!-- Image Upload -->
                        <div class="form-group mt-3">
                            <label class="form-label">Product Image</label>
                            <input type="file" class="form-control" name="ImageFile" accept="image/*" />
                        </div>

                        <!-- Save Button -->
                        <div class="mt-4 text-center">
                            <button type="submit" class="btn btn-success w-100">Add Product</button>
                        </div>
                    </div>
                </div>

                <!-- Right Section: Actions -->
                <div class="col-md-5">
                    <div class="p-3">
                        <div class="card bg-light p-3">
                            <h5>Quick Actions</h5>
                            <a class="btn btn-outline-secondary w-100 mb-2"  asp-controller="Users"asp-action="AddProduct">
                                <i class="fa fa-list"></i> View All Products
                            </a>



                            <a class="btn btn-outline-secondary w-100 mb-2" asp-controller="Dashboard" asp-action="Index">
                                <i class="fa fa-home"></i> Back to Dashboard
                            </a>
                        </div>
                       
                    </div>
                  
                </div>
            </div>
        </div>
    </form>
 
   


    @section Scripts {
        <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

        <script>
            document.querySelector("form").addEventListener("submit", function (e) {
                e.preventDefault();

                Swal.fire({
                    title: "Add this product?",
                    icon: "question",
                    showCancelButton: true,
                    confirmButtonText: "Yes, Add",
                    cancelButtonText: "Cancel"
                }).then((result) => {
                    if (result.isConfirmed) {
                        e.target.submit();
                    }
                });
            });

            @if (Context.Session.GetString("ProductAdded") == "true")
            {
                        Context.Session.Remove("ProductAdded");
                        <text>
                                Swal.fire("Success!", "Product added successfully.", "success");AddProudact
                        </text>
            }
        </script>
    }
</body>
